"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[506],{81105:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(1413),o=t(75627),i=t(46417);function a(e){var r=e.children,t=e.onSubmit,a=e.methods;return(0,i.jsx)(o.RV,(0,n.Z)((0,n.Z)({},a),{},{children:(0,i.jsx)("form",{onSubmit:t,children:r})}))}},84779:function(e,r,t){t.d(r,{au:function(){return S},sX:function(){return y},ZP:function(){return F.Z}});var n=t(1413),o=t(45987),i=t(75627),a=t(15480),l=t(47313),s=t(28831),c=t(57829),u=t(46417),d=["disabledEffect","effect","sx"],p=(0,l.forwardRef)((function(e,r){var t=e.disabledEffect,i=void 0!==t&&t,a=e.effect,l=void 0===a?"blur":a,p=e.sx,f=(0,o.Z)(e,d),h=(0,u.jsx)(c.Z,(0,n.Z)({component:s.LazyLoadImage,wrapperClassName:"wrapper",effect:i?void 0:l,placeholderSrc:i?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover"}},f));return(0,u.jsx)(c.Z,{ref:r,component:"span",sx:(0,n.Z)({lineHeight:1,display:"block",overflow:"hidden",position:"relative","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"}},p),children:h})}));function f(e){var r=e.file;if(!r)return null;var t="string"===typeof r?r:r.preview;return(0,u.jsx)(p,{alt:"avatar",src:t,sx:{zIndex:8,overflow:"hidden",borderRadius:"50%",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)"}})}var h=t(80614),m=t(61113),v=t(17592),x=t(17551),g=t(41938),b=["error","file","disabled","helperText","sx"],Z=(0,v.ZP)("div")((function(e){var r=e.theme;return{width:144,height:144,margin:"auto",display:"flex",cursor:"pointer",overflow:"hidden",borderRadius:"50%",alignItems:"center",position:"relative",justifyContent:"center",border:"1px dashed ".concat((0,x.Fq)(r.palette.grey[500],.32))}})),j=(0,v.ZP)("div")((function(e){var r=e.theme;return{zIndex:7,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",width:"calc(100% - 16px)",height:"calc(100% - 16px)",color:r.palette.text.disabled,backgroundColor:r.palette.background.neutral,transition:r.transitions.create("opacity",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.shorter})}}));function k(e){var r=e.error,t=e.file,i=e.disabled,a=e.helperText,l=e.sx,s=(0,o.Z)(e,b),c=(0,h.uI)((0,n.Z)({multiple:!1,disabled:i},s)),d=c.getRootProps,p=c.getInputProps,v=c.isDragActive,k=!!t,w=c.isDragReject||!!r;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(Z,(0,n.Z)((0,n.Z)({},d()),{},{sx:(0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},v&&{opacity:.72}),w&&(0,n.Z)({borderColor:"error.light"},k&&{bgcolor:"error.lighter"})),i&&{opacity:.48,pointerEvents:"none"}),k&&{"&:hover":{"& .placeholder":{opacity:1}}}),l),children:[(0,u.jsx)("input",(0,n.Z)({},p())),k&&(0,u.jsx)(f,{file:t}),(0,u.jsxs)(j,{className:"placeholder",sx:(0,n.Z)((0,n.Z)({"&:hover":{opacity:.72}},k&&{zIndex:9,opacity:0,color:"common.white",bgcolor:function(e){return(0,x.Fq)(e.palette.grey[900],.64)}}),w&&{color:"error.main",bgcolor:"error.lighter"}),children:[(0,u.jsx)(g.Z,{}),(0,u.jsx)(m.Z,{variant:"caption",children:t?"Update photo":"Upload photo"})]})]})),a&&a]})}var w=["name"];function y(e){var r=e.name,t=(0,o.Z)(e,w),l=(0,i.Gc)().control;return(0,u.jsx)(i.Qr,{name:r,control:l,render:function(e){var r=e.field,o=e.fieldState.error;return(0,u.jsxs)("div",{children:[(0,u.jsx)(k,(0,n.Z)({accept:{"image/*":[]},error:!!o,file:r.value},t)),!!o&&(0,u.jsx)(a.Z,{error:!0,sx:{px:2,textAlign:"center"},children:o.message})]})}})}var F=t(81105),E=t(204),L=["name","helperText"];function S(e){var r=e.name,t=e.helperText,a=(0,o.Z)(e,L),l=(0,i.Gc)().control;return(0,u.jsx)(i.Qr,{name:r,control:l,render:function(e){var r=e.field,o=e.fieldState.error;return(0,u.jsx)(E.Z,(0,n.Z)((0,n.Z)({},r),{},{fullWidth:!0,value:"number"===typeof r.value&&0===r.value?"":r.value,error:!!o,helperText:o?null===o||void 0===o?void 0:o.message:t},a))}})}},36506:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n=t(47313),o=t(35898),i=t(57829),a=t(47131),l=t(61113),s=t(47844),c=t(74165),u=t(15861),d=t(70885),p=t(3463),f=t(75627),h=t(62563),m=t(81105),v=t(84779),x=t(51406),g=t(85554),b=t(1650),Z=t(18380),j=t(46417),k=function(){var e=(0,g.I0)(),r=(0,n.useState)(),t=(0,d.Z)(r,2),i=t[0],a=t[1],l=(0,g.v9)((function(e){return e.app})).user,s=p.Ry().shape({firstName:p.Z_().required("Name is required"),about:p.Z_().required("About is required"),avatar:p.Z_().required("Avatar is required").nullable(!0)}),k={firstName:null===l||void 0===l?void 0:l.firstName,about:null===l||void 0===l?void 0:l.about,avatar:"".concat(Z.L4,"/").concat(null===l||void 0===l?void 0:l.avatar)},w=(0,f.cI)({resolver:(0,h.X)(s),defaultValues:k}),y=(w.reset,w.watch),F=(w.control,w.setValue),E=w.handleSubmit,L=w.formState,S=(L.isSubmitting,L.isSubmitSuccessful,y(),function(){var r=(0,u.Z)((0,c.Z)().mark((function r(t){return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{console.log("DATA",t),e((0,b.bG)({firstName:null===t||void 0===t?void 0:t.firstName,about:null===t||void 0===t?void 0:t.about,avatar:i}))}catch(n){console.error(n)}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()),C=(0,n.useCallback)((function(e){var r=e[0];a(r);var t=Object.assign(r,{preview:URL.createObjectURL(r)});r&&F("avatar",t,{shouldValidate:!0})}),[F]);return(0,j.jsx)(m.Z,{methods:w,onSubmit:E(S),children:(0,j.jsxs)(o.Z,{spacing:4,children:[(0,j.jsx)(v.sX,{name:"avatar",maxSize:3145728,onDrop:C}),(0,j.jsx)(v.au,{helperText:"This name is visible to your contacts",name:"firstName",label:"First Name"}),(0,j.jsx)(v.au,{multiline:!0,rows:4,name:"about",label:"About"}),(0,j.jsx)(o.Z,{direction:"row",justifyContent:"end",children:(0,j.jsx)(x.Z,{color:"primary",size:"large",type:"submit",variant:"contained",children:"Save"})})]})})},w=function(){var e=(0,g.I0)();return(0,n.useEffect)((function(){e((0,b.Wn)())}),[]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(o.Z,{direction:"row",sx:{width:"100%"},children:[(0,j.jsx)(i.Z,{sx:{overflowY:"scroll",height:"100vh",width:320,backgroundColor:function(e){return"light"===e.palette.mode?"#F8FAFF":e.palette.background},boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,j.jsxs)(o.Z,{p:4,spacing:5,children:[(0,j.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,j.jsx)(a.Z,{children:(0,j.jsx)(s.Z,{size:24,color:"#4B4B4B"})}),(0,j.jsx)(l.Z,{variant:"h5",children:"Profile"})]}),(0,j.jsx)(k,{})]})}),(0,j.jsx)(i.Z,{sx:{height:"100%",width:"calc(100vw - 420px )",backgroundColor:function(e){return"light"===e.palette.mode?"#FFF":e.palette.background.paper},borderBottom:"6px solid #0162C4"}})]})})}},47844:function(e,r,t){var n=t(47313),o=t(8813),i=t(8172),a=new Map;a.set("bold",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return n.createElement(n.Fragment,null,n.createElement("polygon",{points:"160 208 80 128 160 48 160 208",opacity:"0.2"}),n.createElement("polygon",{points:"160 208 80 128 160 48 160 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M163.1,40.6a8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,160,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,168,208V48A8,8,0,0,0,163.1,40.6Z"}))})),a.set("light",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var l=function(e,r){return(0,o._)(e,r,a)},s=(0,n.forwardRef)((function(e,r){return n.createElement(i.Z,Object.assign({ref:r},e,{renderPath:l}))}));s.displayName="CaretLeft",r.Z=s}}]);